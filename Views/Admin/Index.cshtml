
@{
    ViewBag.Title = "Users";
}

<h2>
    Users
    <button style="float:right;margin:10px 0 10px 0" id="addBtn" type="button" onclick="addUser()" class="btn btn-default">Add User</button>

</h2>


<br />

<div>
    <table id="jqueryDataTable" class="table table-bordered table-hover table-dark table-responsive-xl">
        <thead>
            <tr>
                <th>User</th>
                <th>Actions</th>
            </tr>
        </thead>
        @foreach (var user in ViewBag.Users)
        {
            <tr>
                <td style="width:75%">@user.username</td>
                <td align="center"><button style="margin:10px 0 10px 0" onclick="editUser(@user.id)" type="button" class="btn btn-default">Edit User</button> <button style="margin:10px 0 10px 0" onclick="deleteUser(@user.id)" type="button" class="btn btn-default">Delete</button></td>
            </tr>
        }
    </table>
</div>


@section scripts {
    <script>
        $(document).ready(function () {
            var table = $('#jqueryDataTable').DataTable();
        });

        function editUser(id) {
            window.location.href = "/Admin/EditUser/" + id;
        }
        function addUser() {
            window.location.href = "/Admin/AddUser/";
        }
        function deleteUser(id) {
            try {
                alert("User Deleted");
                window.location.href = "/Admin/DeleteUserInDB/" + id;
            } catch (e) {
                alert("error" + e);
            }
        }
    </script>
}


